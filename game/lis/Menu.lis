0 REM "Load graphish element 'menu'-------------------------------------------------------------------"
1 GELLOAD "menu","menu.png":GELLOAD "vibor","vibor.png":GELLOAD "name","game-name.png":GELLOAD "sel","select.png"
2 GELLOAD "co-0","co-0.png":GELLOAD "co-1","co-1.png":GELLOAD "co-2","co-2.png":GELLOAD "co-3","co-3.png"
3 GELLOAD "ico","menu-icon.png":GELLOAD "load","load-menu.png":GELLOAD "name-menu","name-menu.png"
4 REM "Load graphish element 'continue'---------------------------------------------------------------"
5 GELLOAD "name-go","name-go.png":GELLOAD "go-sled","go-sled.png"
6 GELLOAD "go-sel","go-sel.png":GELLOAD "go-go","go-go.png":GELLOAD "go-save","go-save.png"
7 GELLOAD "line-go","line-go.png":GELLOAD "go-save-name","go-save-name.png"
9 REM "Load graphish element 'viev text'--------------------------------------------------------------"
10 FOR T%=0 TO 7
11 NAME$="polosa"+STR$(T%):NAME2$=NAME$+".png":GELLOAD NAME$,NAME2$
12 NEXT T%
13 GELLOAD "txt-fon","txt-fon.png":FONEX%=WSCREEN/240:IF FONEX%*240<WSCREEN THEN FONEX%=FONEX%+1
14 FONEY%=HSCREEN/240:IF FONEY%*240<HSCREEN THEN FONEY%=FONEY%+1
15 GELLOAD "v-up","viev-up.png":GELLOAD "v-down","viev-down.png":VIEV%=WSCREEN/320:IF VIEV%*320<WSCREEN THEN VIEV%=VIEV%+1
16 GELLOAD "game-i","game-i.png":GELLOAD "about-i","about-i.png":GELLOAD "info","name-info.png"
17 GELLOAD "prg1","prg1.png":GELLOAD "prg2","prg2.png":UPRAW2$="prg1":ANI_TXT%=500
18 GELLOAD "upr1","upr1.png":GELLOAD "upr2","upr2.png":GELLOAD "upr3","upr3.png":GELLOAD "upr4","upr4.png":UPRAW1$="upr1"
19 GELLOAD "menu-key","menu-key.png":GELLOAD "exit-key","exit-key.png":GELLOAD "ABC","ABC.png"
20 REM "Load graphish element 'scene'"
21 GELLOAD "name-scene","name-scene.png":GELLOAD "akt1","akt1.png":GELLOAD "akt2","akt2.png":GELLOAD "post-akt","post-akt.png"
22 GELLOAD "akt1-name","akt1-name.png":GELLOAD "akt2-name","akt2-name.png":GELLOAD "left-scene","left-scene.png"
23 GELLOAD "right-scene","right-scene.png":GELLOAD "sel-scene","sel-scene.png":GELLOAD "sel-akt","sel-akt.png"
24 FOR T%=1 TO 27
25 NAME$="3d-son"+STR$(T%):NAME2$=NAME$+".png":GELLOAD NAME$,NAME2$
26 NEXT T%
27 WSCREEN=SCREENWIDTH(0):HSCREEN=SCREENHEIGHT(0)
28 SETCOLOR 0,0,0:FILLRECT 0,0,WSCREEN,HSCREEN:GELGRAB "zagruz",0,0,WSCREEN,HSCREEN:ALPHAGEL "zagruz",128
29 GELLOAD "sonic-load","sonic-load.png":GELLOAD "shar1","shar1.png":GELLOAD "shar2","shar2.png":GELLOAD "shar3","shar3.png"
30 GELLOAD "shar4","shar4.png":GELLOAD "shar5","shar5.png":SETCOLOR 255,255,255:FILLRECT 0,0,WSCREEN,HSCREEN
31 REM "Load text data--------------------------------------------------------------------------------"
32 NTXT%=9:DIM A$(NTXT%):DIM GG%(NTXT%):DIM TXTFILE$(NTXT%):DIM YPOS_TXT%(NTXT%):DIM MASS(NTXT%):DIM HSTR%(NTXT%):DIM YPOSY(NTXT%)
33 TXTFILE$(0)="/text1.txt":YPOS_TXT%(0)=0
34 TXTFILE$(1)="/text2.txt":YPOS_TXT%(1)=10
35 TXTFILE$(2)="/text3.txt":YPOS_TXT%(2)=2
36 TXTFILE$(3)="/text4.txt":YPOS_TXT%(3)=2
37 TXTFILE$(4)="/text5.txt":YPOS_TXT%(4)=8
38 TXTFILE$(5)="/text6.txt":YPOS_TXT%(5)=8
39 TXTFILE$(6)="/text7.txt":YPOS_TXT%(6)=2
40 TXTFILE$(7)="/text8.txt":YPOS_TXT%(7)=7
41 TXTFILE$(8)="/text9.txt":YPOS_TXT%(8)=2
42 FOR T%=0 TO NTXT%-1
43 OPEN #0,TXTFILE$(T%),"INPUT"
44 SHOT #0,A$(T%):GG%(T%)=LEN(A$(T%))
45 CLOSE #0
46 NEXT T%
47 WSCREEN=SCREENWIDTH(0):HSCREEN=SCREENHEIGHT(0):MAXGR%=HSCREEN:IF WSCREEN>HSCREEN THEN MAXGR%=WSCREEN
50 REM "Load schrift data-----------------------------------------------------------------------------"
51 DRAWGEL "ABC",0,0:DRAWGEL "ABC",-240,15:DRAWGEL "ABC",-480,30
52 FOR T%=0 TO 59
53 IF T%<=23 THEN XRANG%=0:YRANG%=0
54 IF T%>23 AND T%<=47 THEN XRANG%=-240:YRANG%=15
55 IF T%>47 AND T%<=59 THEN XRANG%=-480:YRANG%=30
56 NAME$=STR$(T%+1):GELGRAB NAME$,XRANG%+T%*10,YRANG%,10,15
57 NEXT T%
58 CLS:DLINA_SYMBOLA%=10:MEJJSTROCHNIJ_INTERVAL%=20
60 REM "Load DIM for multiscreen----------------------------------------------------------------------"
61 SUMM=0
62 FOR T%=0 TO NTXT%-1
63 MAXLINE%=WSCREEN/DLINA_SYMBOLA%:MAXH1%=GG%(T%)/MAXLINE%
64 IF MAXLINE%*MAXH1%>GG%(T%) THEN MAXH1%=MAXH1%-1
65 MAXLINE%=HSCREEN/DLINA_SYMBOLA%:MAXH2%=GG%(T%)/MAXLINE%
66 IF MAXLINE%*MAXH2%>GG%(T%) THEN MAXH2%=MAXH2%-1
67 MASS(T%)=MAXH1%:IF MAXH2%>MAXH1% THEN MASS(T%)=MAXH2%
68 SUMM=SUMM+MASS(T%)
69 NEXT T%
70 MAX=0
71 FOR T%=0 TO NTXT%-1
72 IF MAX<MASS(T%) THEN MAX=MASS(T%)
73 NEXT T%
74 DIM TEKST$(MAX):DIM TXTLINE$(SUMM+NTXT%):DIM YTXTY(SUMM+NTXT%):DIM SYMB_TXT%(SUMM+NTXT%)
167 MENUS=0
168 REM "---------------------------------MENU----------------------------------------------"
169 WSCREEN=SCREENWIDTH(0):HSCREEN=SCREENHEIGHT(0)
170 MING=HSCREEN:MAXG=WSCREEN:IF WSCREEN<HSCREEN THEN MING=WSCREEN:MAXG=HSCREEN
172 LMX%=5+MAXG/30
175 QUAD%=24:SHAG%=WSCREEN/QUAD%:PLAG%=HSCREEN/QUAD%:PLUS%=1:IF PLAG%*QUAD%<HSCREEN THEN PLUS%=2
180 XK=0:YK=0:A%=1:LOST%=-(HSCREEN-1)
181 REM "load kletki gel----------------------"
188 SETCOLOR 212,255,193:FILLRECT 0,0,WSCREEN,HSCREEN
189 FOR T%=0 TO SHAG% STEP 2
190 SETCOLOR 0,148,255:FILLRECT T%*QUAD%,0,QUAD%,QUAD%
192 NEXT T%
200 GELGRAB "pl",0,0,WSCREEN,QUAD%:FIRST=1
204 REM "kletki---------------------------"
205 WTW=SCREENWIDTH(0):GGQ%=0:SETCOLOR 212,255,193:FILLRECT 0,0,WSCREEN,HSCREEN
206 IF WSCREEN<>WTW THEN CLS:GOTO 167
210 FOR T%=0 TO PLAG%+PLUS%-1
215 IF GGQ%=0 THEN GGQ%=1:DRAWGEL "pl",XK,T%*QUAD%+YK:GOTO 220
216 IF GGQ%=1 THEN GGQ%=0:DRAWGEL "pl",QUAD%+XK,T%*QUAD%+YK
220 NEXT T%
221 IF FIRST=1 THEN GELGRAB "lp",0,0,QUAD%,HSCREEN
222 FIRST=0:DRAWGEL "lp",-QUAD%+XK,QUAD%+YK
224 REM "stat kartinki-----------------------------"
225 DRAWGEL "name",(WSCREEN-240)/2-1,((((HSCREEN-168)/2)-1)-LMX%-58)/2+LMX%+LOST%
230 VIB%=(WSCREEN/240):IF VIB%*240<WSCREEN THEN VIB%=VIB%+1
231 FOR T%=0 TO VIB%-1
232 DRAWGEL "vibor",T%*240,(HSCREEN-168)/2-1+LOST%
233 NEXT T%
235 DRAWGEL "menu",(WSCREEN-240)/2-1,(HSCREEN-168)/2-1+LOST%
236 DRAWGEL "ico",(WSCREEN-75)/2,(HSCREEN-168)/2-1+168+(((HSCREEN-LMX%-1)-((HSCREEN-168)/2-1+168)-55)/2)-7+LOST%
239 REM "anima - kolca-----------------------------"
240 IF MILLISECONDS(0)-CO%>81 THEN CO_ANIM%=CO_ANIM%+1:CO%=MILLISECONDS(0)
241 IF CO_ANIM%>3 THEN CO_ANIM%=0
242 NAMES$="co-"+STR$(CO_ANIM%)
243 FOR T%=0 TO 3
244 DRAWGEL NAMES$,4,T%*42+9+(HSCREEN-168)/2-1+LOST%:DRAWGEL NAMES$,WSCREEN-5-24,T%*42+9+(HSCREEN-168)/2-1+LOST%
245 NEXT T%
249 REM "werh niz polosa------------------------"
250 DELCOL=127/LMX%
251 FOR T%=0 TO LMX%-1
252 SETCOLOR 0,38,128+T%*DELCOL:DRAWRECT 0,T%,WSCREEN,1:DRAWRECT 0,HSCREEN-(T%+1),WSCREEN,1
253 NEXT T%
254 DRAWGEL "name-menu",(WSCREEN-240)/2,(LMX%-16)/2
260 REPAINT
264 REM "key and sensor----------------------------"
265 IF MENUS=1 AND FILLPOLYGON (0)>(HSCREEN-168)/2-1+LOST%+42*0 AND FILLPOLYGON (0)<(HSCREEN-168)/2-1+LOST%+42*1 AND SOUNDINFO(0)=0 THEN GOTO 330
270 IF MENUS=1 AND FILLPOLYGON (0)>(HSCREEN-168)/2-1+LOST%+42*1 AND FILLPOLYGON (0)<(HSCREEN-168)/2-1+LOST%+42*2 AND SOUNDINFO(0)=0 THEN GOTO 450
275 IF MENUS=1 AND FILLPOLYGON (0)>(HSCREEN-168)/2-1+LOST%+42*2 AND FILLPOLYGON (0)<(HSCREEN-168)/2-1+LOST%+42*3 AND SOUNDINFO(0)=0 THEN GOTO 390
280 IF MENUS=1 AND FILLPOLYGON (0)>(HSCREEN-168)/2-1+LOST%+42*3 AND FILLPOLYGON (0)<(HSCREEN-168)/2-1+LOST%+42*4 AND SOUNDINFO(0)=0 THEN GOTO 320
284 IF LOST%<0 THEN LOST%=LOST%+(HSCREEN/30)*(ABS(LOST%/HSCREEN)+0.25)
285 IF LOST%>=0 THEN LOST%=0:MENUS=1
300 XK=XK+1:YK=YK-1:IF XK>=QUAD% THEN XK=0:YK=0
310 SLEEP 23:GOTO 205
320 SLC%=(WSCREEN/240):IF SLC%*240<WSCREEN THEN SLC%=SLC%+1
321 FOR T%=0 TO SLC%-1
322 DRAWGEL "sel",T%*240,(HSCREEN-168)/2-1+LOST%+42*3
323 NEXT T%
324 REPAINT:SLEEP 999
325 END
330 SLC%=(WSCREEN/240):IF SLC%*240<WSCREEN THEN SLC%=SLC%+1
331 FOR T%=0 TO SLC%-1
332 DRAWGEL "sel",T%*240,(HSCREEN-168)/2-1+LOST%+42*0
333 NEXT T%
334 GELGRAB "mano",0,0,WSCREEN,HSCREEN:REPAINT:SLEEP 111
335 FONEX%=WSCREEN/240:IF FONEX%*240<WSCREEN THEN FONEX%=FONEX%+1
336 FONEY%=HSCREEN/240:IF FONEY%*240<HSCREEN THEN FONEY%=FONEY%+1
341 FOR T1%=0 TO FONEY%-1
342 FOR T2%=0 TO FONEX%-1
343 DRAWGEL "txt-fon",T2%*240,T1%*240
344 NEXT T2%
345 NEXT T1%
346 REM "werh niz polosa------------------------"
347 DELCOL=127/LMX%
348 FOR T%=0 TO LMX%-1
349 SETCOLOR 0,38,128+T%*DELCOL:DRAWRECT 0,T%,WSCREEN,1:DRAWRECT 0,HSCREEN-(T%+1),WSCREEN,1
350 NEXT T%
351 DRAWGEL "load",(WSCREEN-1-101)/2,(HSCREEN-1-101)/2:DRAWGEL "name-go",(WSCREEN-240)/2,(LMX%-16)/2
352 DRAWGEL "menu-key",4,HSCREEN-LMX%+((LMX%-16)/2)-1:DRAWGEL "exit-key",WSCREEN-73,HSCREEN-LMX%+((LMX%-16)/2)-1
353 GELGRAB "continuum",0,0,WSCREEN,HSCREEN:SLEEP 111
354 LOST1%=WSCREEN-1
355 DRAWGEL "mano",-(WSCREEN-1)+LOST1%,0:DRAWGEL "continuum",0+LOST1%,0
356 IF LOST1%>=0 THEN LOST1%=LOST1%-(WSCREEN/30)*(ABS(LOST1%/WSCREEN)+0.25)
357 IF LOST1%<0 THEN LOST1%=0:GOTO 359
358 REPAINT:SLEEP 20:GOTO 355
359 FONEX%=WSCREEN/240:IF FONEX%*240<WSCREEN THEN FONEX%=FONEX%+1
360 FONEY%=HSCREEN/240:IF FONEY%*240<HSCREEN THEN FONEY%=FONEY%+1
361 FOR T1%=0 TO FONEY%-1
362 FOR T2%=0 TO FONEX%-1
363 DRAWGEL "txt-fon",T2%*240,T1%*240
364 NEXT T2%
365 NEXT T1%
366 DELCOL=127/LMX%
367 FOR T%=0 TO LMX%-1
368 SETCOLOR 0,38,128+T%*DELCOL:DRAWRECT 0,T%,WSCREEN,1:DRAWRECT 0,HSCREEN-(T%+1),WSCREEN,1
369 NEXT T%
370 DRAWGEL "name-go",(WSCREEN-240)/2,(LMX%-16)/2
371 DRAWGEL "menu-key",4,HSCREEN-LMX%+((LMX%-16)/2)-1:DRAWGEL "exit-key",WSCREEN-73,HSCREEN-LMX%+((LMX%-16)/2)-1
372 LINEX%=WSCREEN/240:IF LINEX%*240<WSCREEN THEN LINEX%=LINEX%+1
373 FOR T%=0 TO LINEX%-1
374 DRAWGEL "line-go",T%*240,LMX%+23:DRAWGEL "go-sled",T%*240,LMX%+70
375 NEXT T%
376 DRAWGEL "go-save-name",1+(WSCREEN-124)/2,LMX%+24:DRAWGEL "go-save",0,LMX%+70:DRAWGEL "go-go",WSCREEN-30,LMX%+70
377 IF FILLPOLYGON (0)>LMX%+70 AND FILLPOLYGON (0)<LMX%+70+128 THEN GOTO 386
378 IF DRAWPOLYGON (0)>WSCREEN-81 AND FILLPOLYGON (0)>HSCREEN-LMX%-8 AND SOUNDINFO(0)=0 THEN SLEEP 666:END
379 IF DRAWPOLYGON (0)<81 AND FILLPOLYGON (0)>HSCREEN-LMX%-8 AND SOUNDINFO(0)=0 THEN SLEEP 666:GOTO 381
380 GOTO 389
381 GELGRAB "continuum",0,0,WSCREEN,HSCREEN:SLEEP 111:LOST1%=0
382 DRAWGEL "mano",-(WSCREEN-1)+LOST1%,0:DRAWGEL "continuum",0+LOST1%,0
383 IF LOST1%<WSCREEN-1 THEN LOST1%=LOST1%+(WSCREEN/30)*(ABS((WSCREEN-LOST1%)/WSCREEN)+0.25)
384 IF LOST1%>=WSCREEN-1 THEN LOST1%=WSCREEN-1:GOTO 205
385 REPAINT:SLEEP 23:GOTO 382
386 FOR T%=0 TO LINEX%-1
387 DRAWGEL "go-sel",T%*240,LMX%+70
388 NEXT T%
389 REPAINT:SLEEP 23:GOTO 359
390 SLC%=(WSCREEN/240):IF SLC%*240<WSCREEN THEN SLC%=SLC%+1
391 FOR T%=0 TO SLC%-1
392 DRAWGEL "sel",T%*240,(HSCREEN-168)/2-1+LOST%+42*2
393 NEXT T%
394 GELGRAB "mano",0,0,WSCREEN,HSCREEN:REPAINT:SLEEP 111
395 FONEX%=WSCREEN/240:IF FONEX%*240<WSCREEN THEN FONEX%=FONEX%+1
396 FONEY%=HSCREEN/240:IF FONEY%*240<HSCREEN THEN FONEY%=FONEY%+1
401 FOR T1%=0 TO FONEY%-1
402 FOR T2%=0 TO FONEX%-1
403 DRAWGEL "txt-fon",T2%*240,T1%*240
404 NEXT T2%
405 NEXT T1%
406 REM "werh niz polosa------------------------"
410 DELCOL=127/LMX%
411 FOR T%=0 TO LMX%-1
412 SETCOLOR 0,38,128+T%*DELCOL:DRAWRECT 0,T%,WSCREEN,1:DRAWRECT 0,HSCREEN-(T%+1),WSCREEN,1
413 NEXT T%
414 DRAWGEL "load",(WSCREEN-1-101)/2,(HSCREEN-1-101)/2:DRAWGEL "info",(WSCREEN-240)/2,(LMX%-16)/2
415 DRAWGEL "menu-key",4,HSCREEN-LMX%+((LMX%-16)/2)-1:DRAWGEL "exit-key",WSCREEN-73,HSCREEN-LMX%+((LMX%-16)/2)-1
416 GELGRAB "informacia",0,0,WSCREEN,HSCREEN:SLEEP 111
417 LOST1%=WSCREEN-1
420 DRAWGEL "mano",-(WSCREEN-1)+LOST1%,0:DRAWGEL "informacia",0+LOST1%,0
424 IF LOST1%>=0 THEN LOST1%=LOST1%-(WSCREEN/30)*(ABS(LOST1%/WSCREEN)+0.25)
425 IF LOST1%<0 THEN LOST1%=0:GOTO 430
426 REPAINT:SLEEP 20:GOTO 420
430 FOR TT%=0 TO LMX%-1 STEP 2
431 DRAWGEL "informacia",0,0:VIEV%=WSCREEN/320:IF VIEV%*320<WSCREEN THEN VIEV%=VIEV%+1
432 FOR T%=0 TO VIEV%-1
433 DRAWGEL "v-up",T%*320,TT%:DRAWGEL "v-down",T%*320,HSCREEN-66-TT%
434 NEXT T%
435 REM "werh niz polosa------------------------"
436 DELCOL=127/LMX%
437 FOR TR%=0 TO LMX%-1
438 SETCOLOR 0,38,128+TR%*DELCOL:DRAWRECT 0,TR%,WSCREEN,1:DRAWRECT 0,HSCREEN-(TR%+1),WSCREEN,1
439 NEXT TR%
440 DRAWGEL "info",(WSCREEN-240)/2,(LMX%-16)/2:DRAWGEL "menu-key",4,HSCREEN-LMX%+((LMX%-16)/2)-1:DRAWGEL "exit-key",WSCREEN-73,HSCREEN-LMX%+((LMX%-16)/2)-1
441 REPAINT:SLEEP 45
442 NEXT TT%
443 GOTO 1600
450 SLC%=(WSCREEN/240):IF SLC%*240<WSCREEN THEN SLC%=SLC%+1
451 FOR T%=0 TO SLC%-1
452 DRAWGEL "sel",T%*240,(HSCREEN-168)/2-1+LOST%+42*1
453 NEXT T%
454 GELGRAB "mano",0,0,WSCREEN,HSCREEN:REPAINT:SLEEP 111
455 FONEX%=WSCREEN/240:IF FONEX%*240<WSCREEN THEN FONEX%=FONEX%+1
456 FONEY%=HSCREEN/240:IF FONEY%*240<HSCREEN THEN FONEY%=FONEY%+1
461 FOR T1%=0 TO FONEY%-1
462 FOR T2%=0 TO FONEX%-1
463 DRAWGEL "txt-fon",T2%*240,T1%*240
464 NEXT T2%
465 NEXT T1%
466 REM "werh niz polosa------------------------"
470 DELCOL=127/LMX%
471 FOR T%=0 TO LMX%-1
472 SETCOLOR 0,38,128+T%*DELCOL:DRAWRECT 0,T%,WSCREEN,1:DRAWRECT 0,HSCREEN-(T%+1),WSCREEN,1
473 NEXT T%
474 DRAWGEL "load",(WSCREEN-1-101)/2,(HSCREEN-1-101)/2:DRAWGEL "name-scene",(WSCREEN-240)/2,(LMX%-16)/2
475 DRAWGEL "menu-key",4,HSCREEN-LMX%+((LMX%-16)/2)-1:DRAWGEL "exit-key",WSCREEN-73,HSCREEN-LMX%+((LMX%-16)/2)-1
476 GELGRAB "scene",0,0,WSCREEN,HSCREEN:SLEEP 111
477 LOST1%=WSCREEN-1
480 DRAWGEL "mano",-(WSCREEN-1)+LOST1%,0:DRAWGEL "scene",0+LOST1%,0
484 IF LOST1%>=0 THEN LOST1%=LOST1%-(WSCREEN/30)*(ABS(LOST1%/WSCREEN)+0.25)
485 IF LOST1%<0 THEN LOST1%=0:GOTO 488
486 REPAINT:SLEEP 20:GOTO 480
488 ANIMA_SOIC_BLEA%=1:SEL_AKT=1
489 FONEX%=WSCREEN/240:IF FONEX%*240<WSCREEN THEN FONEX%=FONEX%+1
490 FONEY%=HSCREEN/240:IF FONEY%*240<HSCREEN THEN FONEY%=FONEY%+1
491 FOR T1%=0 TO FONEY%-1
492 FOR T2%=0 TO FONEX%-1
493 DRAWGEL "txt-fon",T2%*240,T1%*240
494 NEXT T2%
495 NEXT T1%
496 DELCOL=127/LMX%
497 FOR T%=0 TO LMX%-1
498 SETCOLOR 0,38,128+T%*DELCOL:DRAWRECT 0,T%,WSCREEN,1:DRAWRECT 0,HSCREEN-(T%+1),WSCREEN,1:SETCOLOR 64,64,32+T%*DELCOL:DRAWRECT 0,2.5*LMX%-1+T%,WSCREEN,1
499 NEXT T%
500 DRAWGEL "name-scene",(WSCREEN-240)/2,(LMX%-16)/2
501 DRAWGEL "menu-key",4,HSCREEN-LMX%+((LMX%-16)/2)-1:DRAWGEL "exit-key",WSCREEN-73,HSCREEN-LMX%+((LMX%-16)/2)-1
510 KRATNO%=((WSCREEN-240)/2)/240:IF KRATNO%*240<(WSCREEN-240)/2 THEN KRATNO%=KRATNO%+1
515 FOR T%=0 TO KRATNO%-1
520 DRAWGEL "post-akt",((WSCREEN-240)/2)-240*(T%+1),3.5*LMX%:DRAWGEL "post-akt",((WSCREEN-240)/2)+240*(T%+1),3.5*LMX%
525 NEXT T%
530 IF SEL_AKT=1 THEN DRAWGEL "akt1",(WSCREEN-240)/2,3.5*LMX%:DRAWGEL "akt1-name",(WSCREEN-240)/2,(5*LMX%-1+LMX%)/2-6
535 IF SEL_AKT=2 THEN DRAWGEL "akt2",(WSCREEN-240)/2,3.5*LMX%:DRAWGEL "akt2-name",(WSCREEN-240)/2,(5*LMX%-1+LMX%)/2-6
540 DRAWGEL "left-scene",0,3.5*LMX%:DRAWGEL "right-scene",WSCREEN-45,3.5*LMX%
545 IF MILLISECONDS(0)-SOIC_BLEA%>33 THEN ANIMA_SOIC_BLEA%=ANIMA_SOIC_BLEA%+1:SOIC_BLEA%=MILLISECONDS(0)
550 IF ANIMA_SOIC_BLEA%>27 THEN ANIMA_SOIC_BLEA%=1
555 NAME_SON$="3d-son"+STR$(ANIMA_SOIC_BLEA%):DRAWGEL NAME_SON$,(WSCREEN-96)/2,(3.5*LMX%-1+128+HSCREEN-LMX%)/2-60
560 IF DRAWPOLYGON (0)>0 AND DRAWPOLYGON (0)<46 AND FILLPOLYGON (0)>3.5*LMX% AND FILLPOLYGON (0)<3.5*LMX%+128 AND SOUNDINFO(0)=0 THEN DRAWGEL "sel-scene",0,3.5*LMX%:SEL_AKT=1
565 IF DRAWPOLYGON (0)>WSCREEN-46 AND DRAWPOLYGON (0)<WSCREEN AND FILLPOLYGON (0)>3.5*LMX% AND FILLPOLYGON (0)<3.5*LMX%+128 AND SOUNDINFO(0)=0 THEN DRAWGEL "sel-scene",WSCREEN-45,3.5*LMX%:SEL_AKT=2
566 IF SEL_AKT=1 AND WSCREEN<330 AND DRAWPOLYGON (0)>46 AND DRAWPOLYGON (0)<(WSCREEN-46) AND FILLPOLYGON (0)>3.5*LMX% AND FILLPOLYGON (0)<3.5*LMX%+128 AND SOUNDINFO(0)=0 THEN DRAWGEL "sel-akt",(WSCREEN-240)/2-80,3.5*LMX%:GOTO 600
570 IF SEL_AKT=1 AND WSCREEN>330 AND DRAWPOLYGON (0)>(WSCREEN-240)/2 AND DRAWPOLYGON (0)<(WSCREEN-240)/2+240 AND FILLPOLYGON (0)>3.5*LMX% AND FILLPOLYGON (0)<3.5*LMX%+128 AND SOUNDINFO(0)=0 THEN DRAWGEL "sel-akt",(WSCREEN-240)/2-80,3.5*LMX%:GOTO 600
571 IF SEL_AKT=2 AND WSCREEN<330 AND DRAWPOLYGON (0)>46 AND DRAWPOLYGON (0)<(WSCREEN-46) AND FILLPOLYGON (0)>3.5*LMX% AND FILLPOLYGON (0)<3.5*LMX%+128 AND SOUNDINFO(0)=0 THEN DRAWGEL "sel-akt",(WSCREEN-240)/2-80,3.5*LMX%
572 IF SEL_AKT=2 AND WSCREEN>330 AND DRAWPOLYGON (0)>(WSCREEN-240)/2 AND DRAWPOLYGON (0)<(WSCREEN-240)/2+240 AND FILLPOLYGON (0)>3.5*LMX% AND FILLPOLYGON (0)<3.5*LMX%+128 AND SOUNDINFO(0)=0 THEN DRAWGEL "sel-akt",(WSCREEN-240)/2-80,3.5*LMX%
578 IF DRAWPOLYGON (0)>WSCREEN-81 AND FILLPOLYGON (0)>HSCREEN-LMX%-8 AND SOUNDINFO(0)=0 THEN SLEEP 666:END
579 IF DRAWPOLYGON (0)<81 AND FILLPOLYGON (0)>HSCREEN-LMX%-8 AND SOUNDINFO(0)=0 THEN SLEEP 666:GOTO 581
580 REPAINT:SLEEP 23:GOTO 489
581 GELGRAB "scene",0,0,WSCREEN,HSCREEN:SLEEP 111:LOST1%=0
582 DRAWGEL "mano",-(WSCREEN-1)+LOST1%,0:DRAWGEL "scene",0+LOST1%,0
583 IF LOST1%<WSCREEN-1 THEN LOST1%=LOST1%+(WSCREEN/30)*(ABS((WSCREEN-LOST1%)/WSCREEN)+0.25)
584 IF LOST1%>=WSCREEN-1 THEN LOST1%=WSCREEN-1:GOTO 205
585 REPAINT:SLEEP 23:GOTO 582
600 GELGRAB "fon-load",0,0,WSCREEN,HSCREEN:ALF_SH1=0:ALF_SH2=1.2566:ALF_SH3=2.5133:ALF_SH4=3.77:ALF_SH5=5.027:LOAD_LOAD%=MILLISECONDS(0)
604 DRAWGEL "fon-load",0,0
605 DRAWGEL "zagruz",0,0:DRAWGEL "sonic-load",(WSCREEN-128)/2,(HSCREEN-113)/2
610 X_SH1=(WSCREEN/2)+98*COS(ALF_SH1):Y_SH1=(HSCREEN/2)+98*SIN(ALF_SH1):ALF_SH1=ALF_SH1+0.1
615 X_SH2=(WSCREEN/2)+98*COS(ALF_SH2):Y_SH2=(HSCREEN/2)+98*SIN(ALF_SH2):ALF_SH2=ALF_SH2+0.1
620 X_SH3=(WSCREEN/2)+98*COS(ALF_SH3):Y_SH3=(HSCREEN/2)+98*SIN(ALF_SH3):ALF_SH3=ALF_SH3+0.1
625 X_SH4=(WSCREEN/2)+98*COS(ALF_SH4):Y_SH4=(HSCREEN/2)+98*SIN(ALF_SH4):ALF_SH4=ALF_SH4+0.1
630 X_SH5=(WSCREEN/2)+98*COS(ALF_SH5):Y_SH5=(HSCREEN/2)+98*SIN(ALF_SH5):ALF_SH5=ALF_SH5+0.1
635 DRAWGEL "shar1",X_SH1-34,Y_SH1-34
640 DRAWGEL "shar2",X_SH2-34,Y_SH2-34
645 DRAWGEL "shar3",X_SH3-34,Y_SH3-34
650 DRAWGEL "shar4",X_SH4-34,Y_SH4-34
655 DRAWGEL "shar5",X_SH5-34,Y_SH5-34
660 IF MILLISECONDS(0)-LOAD_LOAD%>4000 THEN REPAINT:SLEEP 1111:CALL "/game.bas"
665 SLEEP 23:REPAINT:GOTO 605
1600 REM "Load schrift -> graphish text-----------------------------------------------------------------"
1601 WSCREEN=SCREENWIDTH(0):HSCREEN=SCREENHEIGHT(0)
1610 MAXLINE%=WSCREEN/DLINA_SYMBOLA%:SCHET%=0:LMX%=(MAXGR%/30)+5:POST%=LMX%+66
1620 FOR TT%=0 TO NTXT%-1
1630 MAXH%=GG%(TT%)/MAXLINE%:IF MAXLINE%*MAXH%>GG%(TT%) THEN MAXH%=MAXH%-1
1640 IS%=0:OST%=GG%(TT%)-MAXLINE%*MAXH%:IF OST%<>0 THEN IS%=1
1650 HSTR%(TT%)=MAXH%+IS%
1660 IF TT%=0 THEN YPOSY(TT%)=0
1670 IF TT%<>0 THEN YPOSY(TT%)=YPOSY(TT%-1)+HSTR%(TT%-1)+YPOS_TXT%(TT%)
1680 LINES%=MAXLINE%:IF MAXH%=0 THEN GOTO 1720
1690 FOR T%=0 TO MAXH%-1
1700 TEKST$(T%)=MID$(A$(TT%),MAXLINE%*T%+1,MAXLINE%):STROKA$=TEKST$(T%):NOM%=100:GOTO 2200
1710 NEXT T%
1720 NOM%=0:SETCOLOR 255,255,255:FILLRECT 0,0,WSCREEN,15
1730 IF OST%>0 THEN POSLE$=MID$(A$(TT%),MAXLINE%*MAXH%+1,OST%):LINES%=OST%:STROKA$=POSLE$:GOTO 2200
1740 NEXT TT%
1741 REM "load polzunok viev for txt--------------------------------------------------------------------"
1742 ALMX%=LMX%+66:NAMA%=0:PALEC=0:POLOSA%=HSCREEN/320:IF 320*POLOSA%<HSCREEN THEN POLOSA%=POLOSA%+1
1743 CLS:HT=YTXTY(SCHET%-1)+20:IF HT<HSCREEN-2*ALMX%+20 THEN HT=HSCREEN-2*ALMX%+20
1744 PHIT=HSCREEN*((HSCREEN-2*ALMX%)/HT):SETCOLOR 0,0,0:FILLRECT 0,0,18,PHIT:GELGRAB "line-p",0,0,18,PHIT:ALFA_L%=64
1745 NAMA%=0:GGGA%=(ALFA_L%*NAMA%*32)/255:ALPHAGEL "line-p",GGGA%
1750 REM "-----------------------------------------TXT VIEV---------------------------------------------"
1760 SETCOLOR 255,255,255:FILLRECT 0,0,WSCREEN,HSCREEN:NAMES$="polosa"+STR$(NAMA%)
1761 FOR T1%=0 TO FONEY%-1
1762 FOR T2%=0 TO FONEX%-1
1763 DRAWGEL "txt-fon",T2%*240,T1%*240
1764 NEXT T2%
1765 NEXT T1%
1770 FOR TT%=0 TO SCHET%-1
1780 DRAWGEL TXTLINE$(TT%),(WSCREEN-SYMB_TXT%(TT%)-1)/2,YTXTY(TT%)+POST%
1790 NEXT TT%
1800 DRAWGEL "game-i",(WSCREEN-240)/2-1,MEJJSTROCHNIJ_INTERVAL%*YPOSY(1)-200+POST%
1801 DRAWGEL "about-i",(WSCREEN-240)/2-1,MEJJSTROCHNIJ_INTERVAL%*YPOSY(7)-136+POST%
1802 DRAWGEL UPRAW1$,(WSCREEN-240)/2-1,MEJJSTROCHNIJ_INTERVAL%*YPOSY(4)-138+POST%
1803 DRAWGEL UPRAW2$,(WSCREEN-240)/2-1,MEJJSTROCHNIJ_INTERVAL%*YPOSY(5)-138+POST%
1900 FOR T%=0 TO POLOSA%-1
1910 DRAWGEL NAMES$,WSCREEN-1-40,T%*320
1920 NEXT T%
1930 DRAWGEL "line-p",WSCREEN-1-28,YPHI
1940 FOR T%=0 TO VIEV%-1
1950 DRAWGEL "v-up",T%*320,LMX%:DRAWGEL "v-down",T%*320,HSCREEN-66-LMX%
1960 NEXT T%
1961 DELCOL=127/LMX%
1962 FOR T%=0 TO LMX%-1
1963 SETCOLOR 0,38,128+T%*DELCOL:DRAWRECT 0,T%,WSCREEN,1:DRAWRECT 0,HSCREEN-(T%+1),WSCREEN,1
1964 NEXT T%
1965 DRAWGEL "info",(WSCREEN-240)/2,(LMX%-16)/2
1966 DRAWGEL "menu-key",4,HSCREEN-LMX%+((LMX%-16)/2)-1
1967 DRAWGEL "exit-key",WSCREEN-73,HSCREEN-LMX%+((LMX%-16)/2)-1
1970 REPAINT
1980 REM "Key and sensor--------------------------------------------------------------------------------"
1990 IF UP(0) THEN POST%=POST%+2
2000 IF DOWN(0) THEN POST%=POST%-2
2010 IF SOUNDINFO(0)=0 THEN SLEEP 30
2020 IF SOUNDINFO(0)<>0 THEN STAT%=FILLPOLYGON (0):PAL%=MILLISECONDS(0):SLEEP 30
2030 IF SOUNDINFO(0)<>0 AND PALEC=0 THEN PALEC=1:NAMAZ%=MILLISECONDS(0)
2040 IF SOUNDINFO(0)<>0 THEN POST%=POST%+(FILLPOLYGON (0)-STAT%)
2041 IF DRAWPOLYGON (0)>WSCREEN-81 AND FILLPOLYGON (0)>HSCREEN-LMX%-8 AND SOUNDINFO(0)=0 THEN SLEEP 666:END
2042 IF DRAWPOLYGON (0)<81 AND FILLPOLYGON (0)>HSCREEN-LMX%-8 AND SOUNDINFO(0)=0 THEN SLEEP 666:GOTO 2400
2050 IF POST%>ALMX% THEN POST%=ALMX%
2060 IF POST%<(HSCREEN-ALMX%-HT) THEN POST%=HSCREEN-ALMX%-HT
2070 IF SCREENWIDTH(0)<>WSCREEN THEN CLS:GOTO 1601
2080 IF SOUNDINFO(0)=0 AND PALEC=1 AND (MILLISECONDS(0)-PAL%)>1618 THEN PALEC=2:ZADD%=MILLISECONDS(0):ZADERJ=1
2090 IF PALEC=1 AND (MILLISECONDS(0)-NAMAZ%)>81 THEN NAMA%=NAMA%+1:NAMAZ%=MILLISECONDS(0)
2100 IF NAMA%>7 THEN NAMA%=7
2110 IF ZADERJ=1 AND (MILLISECONDS(0)-ZADD%)>2000 THEN PALEC=0:LAP%=MILLISECONDS(0):ZADERJ=0
2120 IF PALEC=0 AND (MILLISECONDS(0)-LAP%)>81 THEN NAMA%=NAMA%-1:LAP%=MILLISECONDS(0)
2130 IF NAMA%<0 THEN NAMA%=0
2140 GGGA%=(ALFA_L%*NAMA%*32)/255:ALPHAGEL "line-p",GGGA%:PPP=ABS(YTXTY(0)+POST%-ALMX%)/ABS(HSCREEN-2*ALMX%-HT):YPHI=PPP*(HSCREEN-PHIT)
2141 IF MILLISECONDS(0)-PIC1%>ANI_TXT% THEN UPR%=UPR%+1:PIC1%=MILLISECONDS(0)
2142 IF UPR%>4 THEN UPR%=1
2143 IF MILLISECONDS(0)-PIC2%>ANI_TXT% THEN PRG%=PRG%+1:PIC2%=MILLISECONDS(0)
2144 IF PRG%>2 THEN PRG%=1
2145 UPRAW1$="upr"+STR$(UPR%):UPRAW2$="prg"+STR$(PRG%)
2150 GOTO 1760
2199 REM "Load data txt for schrift---------------------------------------------------------------------"
2200 FOR SYMB%=0 TO LINES%-1
2220 SMB$=MID$(STROKA$,SYMB%+1,1)
2301 IF SMB$="A" OR SMB$="a" THEN DRAWGEL "1",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2302 IF SMB$="B" OR SMB$="b" THEN DRAWGEL "2",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2303 IF SMB$="W" OR SMB$="w" THEN DRAWGEL "3",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2304 IF SMB$="G" OR SMB$="g" THEN DRAWGEL "4",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2305 IF SMB$="D" OR SMB$="d" THEN DRAWGEL "5",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2306 IF SMB$="E" OR SMB$="e" THEN DRAWGEL "6",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2307 IF SMB$="%" THEN DRAWGEL "7",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2308 IF SMB$="$" THEN DRAWGEL "8",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2309 IF SMB$="Z" OR SMB$="z" THEN DRAWGEL "9",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2310 IF SMB$="I" OR SMB$="i" THEN DRAWGEL "10",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2311 IF SMB$="J" OR SMB$="j" THEN DRAWGEL "11",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2312 IF SMB$="K" OR SMB$="k" THEN DRAWGEL "12",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2313 IF SMB$="L" OR SMB$="l" THEN DRAWGEL "13",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2314 IF SMB$="M" OR SMB$="m" THEN DRAWGEL "14",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2315 IF SMB$="N" OR SMB$="n" THEN DRAWGEL "15",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2316 IF SMB$="O" OR SMB$="o" THEN DRAWGEL "16",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2317 IF SMB$="P" OR SMB$="p" THEN DRAWGEL "17",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2318 IF SMB$="R" OR SMB$="r" THEN DRAWGEL "18",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2319 IF SMB$="S" OR SMB$="s" THEN DRAWGEL "19",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2320 IF SMB$="T" OR SMB$="t" THEN DRAWGEL "20",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2321 IF SMB$="U" OR SMB$="u" THEN DRAWGEL "21",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2322 IF SMB$="F" OR SMB$="f" THEN DRAWGEL "22",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2323 IF SMB$="H" OR SMB$="h" THEN DRAWGEL "23",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2324 IF SMB$="C" OR SMB$="c" THEN DRAWGEL "24",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2325 IF SMB$="&" THEN DRAWGEL "25",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2326 IF SMB$="Y" OR SMB$="y" THEN DRAWGEL "26",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2327 IF SMB$="X" OR SMB$="x" THEN DRAWGEL "27",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2328 IF SMB$="<" THEN DRAWGEL "28",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2329 IF SMB$=">" THEN DRAWGEL "29",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2330 IF SMB$="#" THEN DRAWGEL "30",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2331 IF SMB$="V" OR SMB$="v" THEN DRAWGEL "31",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2332 IF SMB$="Q" OR SMB$="q" THEN DRAWGEL "32",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2333 IF SMB$="^" THEN DRAWGEL "33",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2334 IF SMB$="1" THEN DRAWGEL "34",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2335 IF SMB$="2" THEN DRAWGEL "35",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2336 IF SMB$="3" THEN DRAWGEL "36",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2337 IF SMB$="4" THEN DRAWGEL "37",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2338 IF SMB$="5" THEN DRAWGEL "38",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2339 IF SMB$="6" THEN DRAWGEL "39",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2340 IF SMB$="7" THEN DRAWGEL "40",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2341 IF SMB$="8" THEN DRAWGEL "41",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2342 IF SMB$="9" THEN DRAWGEL "42",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2343 IF SMB$="0" THEN DRAWGEL "43",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2344 IF SMB$="=" THEN DRAWGEL "44",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2345 IF SMB$="." THEN DRAWGEL "45",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2346 IF SMB$="," THEN DRAWGEL "46",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2347 IF SMB$=";" THEN DRAWGEL "47",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2348 IF SMB$=":" THEN DRAWGEL "48",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2349 IF SMB$="!" THEN DRAWGEL "49",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2350 IF SMB$="?" THEN DRAWGEL "50",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2351 IF SMB$="'" THEN DRAWGEL "51",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2352 IF SMB$="(" THEN DRAWGEL "52",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2353 IF SMB$=")" THEN DRAWGEL "53",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2354 IF SMB$="+" THEN DRAWGEL "54",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2355 IF SMB$="-" THEN DRAWGEL "55",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2356 IF SMB$="*" THEN DRAWGEL "56",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2357 IF SMB$="/" THEN DRAWGEL "57",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2358 IF SMB$="" THEN DRAWGEL "58",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2359 IF SMB$=" " THEN DRAWGEL "59",SYMB%*DLINA_SYMBOLA%,0:GOTO 2370
2360 DRAWGEL "60",SYMB%*DLINA_SYMBOLA%,0
2370 NEXT SYMB%
2380 IF NOM%=100 THEN TXTLINE$(SCHET%)=STR$(SCHET%)+"s":GELGRAB TXTLINE$(SCHET%),0,0,WSCREEN,15:COLORALPHAGEL TXTLINE$(SCHET%),0,255,255,255:GELGRUND%=MAXH%:YTXTY(SCHET%)=MEJJSTROCHNIJ_INTERVAL%*(T%+YPOSY(TT%)):SYMB_TXT%(SCHET%)=LINES%*DLINA_SYMBOLA%:SCHET%=SCHET%+1:GOTO 1710
2390 TXTLINE$(SCHET%)=STR$(SCHET%)+"s":GELGRAB TXTLINE$(SCHET%),0,0,WSCREEN,15:COLORALPHAGEL TXTLINE$(SCHET%),0,255,255,255:GELGRUND%=MAXH%+1:YTXTY(SCHET%)=MEJJSTROCHNIJ_INTERVAL%*(MAXH%+YPOSY(TT%)):SYMB_TXT%(SCHET%)=LINES%*DLINA_SYMBOLA%:SCHET%=SCHET%+1:GOTO 1740
2400 REM "goto menu"
2416 GELGRAB "informacia",0,0,WSCREEN,HSCREEN:SLEEP 111
2417 LOST1%=0
2420 DRAWGEL "mano",-(WSCREEN-1)+LOST1%,0:DRAWGEL "informacia",0+LOST1%,0
2424 IF LOST1%<WSCREEN-1 THEN LOST1%=LOST1%+(WSCREEN/30)*(ABS((WSCREEN-LOST1%)/WSCREEN)+0.25)
2425 IF LOST1%>=WSCREEN-1 THEN LOST1%=WSCREEN-1:GOTO 205
2426 REPAINT:SLEEP 20:GOTO 2420
